(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["gyro"],{"5e0f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-gyro"},[n("h1",[t._v("陀螺仪检测")]),n("div",{staticClass:"watcher"},[n("p",[t._v("X轴旋转："+t._s(t.poz.x))]),n("p",[t._v("Y轴旋转："+t._s(t.poz.y))]),n("p",[t._v("Z轴旋转："+t._s(t.poz.z))]),n("p",[t._v("Angle: "+t._s(t.poz.rotate))])]),n("ul",{ref:"box",staticClass:"cube"},[n("li",{staticClass:"front"}),n("li",{staticClass:"back"}),n("li",{staticClass:"right"}),n("li",{staticClass:"left"}),n("li",{staticClass:"top"}),n("li",{staticClass:"bottom"})])])},i=[],o=n("c665"),s=n("aa9a"),r=function(){function t(e){Object(o["a"])(this,t),this.degtorad=Math.PI/180,this.fn=e,this._eventHandler=this._eventHandler.bind(this)}return Object(s["a"])(t,[{key:"_getQuaternion",value:function(t,e,n){var a=this.degtorad,i=e?e*a:0,o=n?n*a:0,s=t?t*a:0,r=Math.cos(i/2),c=Math.cos(o/2),l=Math.cos(s/2),v=Math.sin(i/2),u=Math.sin(o/2),d=Math.sin(s/2),h=r*c*l-v*u*d,f=v*c*l-r*u*d,p=r*u*l+v*c*d,_=r*c*d+v*u*l;return[h,f,p,_]}},{key:"_getAcQuaternion",value:function(t,e,n,a){var i=this.degtorad,o=2*Math.acos(t)/i,s=e/Math.sin(i*o/2)||0,r=n/Math.sin(i*o/2)||0,c=a/Math.sin(i*o/2)||0;return{x:s,y:r,z:c,rotate:o}}},{key:"_deviceMotionHandler",value:function(t){var e=this._getQuaternion(t.alpha,t.beta,t.gamma),n=this._getAcQuaternion(e[0],e[1],e[2],e[3]);return n}},{key:"_eventHandler",value:function(t){var e=this._deviceMotionHandler(t);this.fn&&this.fn(e)}},{key:"bindEvent",value:function(){window.DeviceOrientationEvent&&window.addEventListener("deviceorientation",this._eventHandler,!1)}},{key:"destroy",value:function(){window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this._eventHandler)}}]),t}(),c=r,l={name:"gyro",data:function(){return{poz:{x:0,y:0,z:0,rotate:0}}},mounted:function(){var t=this;t.gyro=new c(function(e){t.poz=e,t.deviceController(e)}),t.gyro.bindEvent()},beforeDestroy:function(){this.gyro.destroy()},methods:{deviceController:function(t){var e=this.$refs.box;e.style.webkitTransform=e.style.transform="rotate3d(".concat(-parseFloat(t.x),", ").concat(+parseFloat(t.y),", ").concat(-parseFloat(t.z),", ").concat(-parseFloat(t.rotate),"deg)")}}},v=l,u=n("2877"),d=Object(u["a"])(v,a,i,!1,null,null,null);d.options.__file="Gyro.vue";e["default"]=d.exports}}]);